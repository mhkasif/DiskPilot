/* ── Tree – virtual scroller ─────────────────────────────────────────────── */
.tree-wrap   { flex: 1; overflow: hidden; display: flex; flex-direction: column; }
.tree-scroll { flex: 1; overflow: auto; position: relative; background: var(--bg); }

/* Full-height spacer pushes scroll area */
.virt-spacer { position: absolute; top: 0; left: 0; width: 1px; pointer-events: none; }

/* Rows are rendered into tree-inner, offset via `top` */
.tree-inner  { position: absolute; left: 0; right: 0; top: 0; min-width: 900px; }

/* Scrollbar */
.tree-scroll::-webkit-scrollbar       { width: 8px; height: 8px; }
.tree-scroll::-webkit-scrollbar-track { background: transparent; }
.tree-scroll::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
.tree-scroll::-webkit-scrollbar-thumb:hover { background: #aaa; }

/* ── Tree rows ───────────────────────────────────────────────────────────── */
.tree-row {
  display: flex; align-items: center;
  height: var(--row-h); cursor: pointer;
  border-bottom: 1px solid transparent;
  transition: background .07s;
}
.tree-row.even     { background: var(--row-even); }
.tree-row:hover    { background: var(--row-hover); }
.tree-row.selected { background: var(--row-sel); }
.tree-row.selected .row-name { color: var(--row-sel-txt); font-weight: 500; }

/* Name cell */
.row-name-cell {
  flex: 1; min-width: 220px;
  display: flex; align-items: center; padding-right: 6px; overflow: hidden;
}
.row-toggle {
  width: 16px; height: 16px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  border-radius: 3px; color: var(--text3);
}
.row-toggle svg { width: 9px; height: 9px; }
.row-toggle.has-children { color: var(--text2); }
.row-toggle.has-children:hover { background: rgba(0,0,0,.07); }

.row-icon { width: 16px; height: 16px; margin: 0 5px 0 2px; flex-shrink: 0; }
.row-icon svg { width: 16px; height: 16px; }

.row-name {
  flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  font-size: 13px; line-height: var(--row-h); color: var(--text);
}
.row-name.is-error { color: #d93025; }

/* Bar cell */
.row-bar-cell {
  width: var(--col-bar); flex-shrink: 0;
  display: flex; align-items: center; padding: 5px 8px; gap: 5px;
}
.size-bar-track { flex: 1; height: 11px; background: var(--bar-track); border-radius: 5px; overflow: hidden; }
.size-bar-fill  { height: 100%; border-radius: 5px; min-width: 2px; }

.bar-t1 { background: linear-gradient(90deg,#ef4444,#f97316); } /* ≥50% */
.bar-t2 { background: linear-gradient(90deg,#f59e0b,#fbbf24); } /* ≥20% */
.bar-t3 { background: linear-gradient(90deg,#3b82f6,#60a5fa); } /* ≥5%  */
.bar-t4 { background: linear-gradient(90deg,#10b981,#34d399); } /* rest */

.row-pct { font-size: 10.5px; color: var(--text3); flex-shrink: 0; min-width: 30px; text-align: right; font-variant-numeric: tabular-nums; }

/* Numeric / date cells */
.row-cell {
  padding: 0 8px; font-size: 12px; color: var(--text2);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  line-height: var(--row-h);
}
.row-cell.num { text-align: right; font-variant-numeric: tabular-nums; }
.row-size    { width: var(--col-size);    flex-shrink: 0; }
.row-alloc   { width: var(--col-alloc);   flex-shrink: 0; }
.row-files   { width: var(--col-files);   flex-shrink: 0; }
.row-folders { width: var(--col-folders); flex-shrink: 0; }
.row-mtime   { width: var(--col-mtime);   flex-shrink: 0; }
